<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="这世间，唯有梦想与好姑娘不可辜负！">
    

    <!--Author-->
    
        <meta name="author" content="Yan Li">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="vue(2.0)全家桶 总结及源码分析"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="这世间，唯有梦想与好姑娘不可辜负！" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Frank_lyan&#39;s Blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>vue(2.0)全家桶 总结及源码分析 - Frank_lyan&#39;s Blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


    <!-- favicon -->
    
	
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Resharpe Your Saw</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            
                                About
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/yanlee26">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('http://www.codeblocq.com/assets/projects/hexo-theme-clean-blog/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>vue(2.0)全家桶 总结及源码分析</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            2016-12-24
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/tags/Hexo/">#Hexo</a> <a href="/tags/clean-blog/">#clean_blog</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                        

<a href="/categories/vue/">vue</a>

                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h1 id="Essentials"><a href="#Essentials" class="headerlink" title="Essentials"></a>Essentials</h1><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><blockquote>
<p>Vue does not support IE8 and below</p>
</blockquote>
<ul>
<li><p>Direct <figure class="highlight plain"><figcaption><span>```Include</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">- CDN:[ https://unpkg.com/vue]( https://unpkg.com/vue)</div><div class="line"></div><div class="line">- NPM </div><div class="line"></div><div class="line">``` </div><div class="line">$ npm install vue</div></pre></td></tr></table></figure></p>
</li>
<li><p>CLI </p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ npm install --global vue-cli</div><div class="line"># create a new project using the &quot;webpack&quot; template</div><div class="line">$ vue init webpack my-project</div><div class="line"># install dependencies and go!</div><div class="line">$ cd my-project</div><div class="line">$ npm install</div><div class="line">$ npm run dev</div></pre></td></tr></table></figure>
<h3 id="Runtime-Compiler-vs-Runtime-only"><a href="#Runtime-Compiler-vs-Runtime-only" class="headerlink" title="Runtime+Compiler vs. Runtime-only"></a>Runtime+Compiler vs. Runtime-only</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// this requires the compiler</div><div class="line">new Vue(&#123;</div><div class="line">  template: `&lt;div&gt;&#123;&#123; hi &#125;&#125;&lt;/div&gt;`</div><div class="line">&#125;)</div><div class="line">// this does not</div><div class="line">new Vue(&#123;</div><div class="line">  render (h) &#123;</div><div class="line">    return h(&apos;div&apos;, this.hi)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="Development-vs-Production-Mode"><a href="#Development-vs-Production-Mode" class="headerlink" title="Development vs. Production Mode"></a>Development vs. Production Mode</h3><blockquote>
<p>开发/生产模式对于UMD构建是硬编码的：未缩小的文件用于开发，缩小的文件用于生产。<br>  CommonJS和ES Module构建是针对捆绑包的，因此我们不为它们提供缩减版本。 你将负责自己最终捆绑。<br>  CommonJS和ES Module构建还保存process.env.NODE_ENV的原始检查以确定它们应该运行的模式。<br>  您应该使用适当的bundler配置来替换这些环境变量，以便控制Vue将运行的模式。替换process.env .NODE_ENV与字符串字面值也允许像UglifyJS这样的缩略器完全删除仅开发的代码块，减少最终文件大小。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">//Using Webpack DefinePlugin</div><div class="line"> var webpack = require(&apos;webpack&apos;)</div><div class="line"> module.exports = &#123;</div><div class="line">   // ...</div><div class="line">   plugins: [</div><div class="line">     // ...</div><div class="line">     new webpack.DefinePlugin(&#123;</div><div class="line">       &apos;process.env&apos;: &#123;</div><div class="line">         NODE_ENV: JSON.stringify(&apos;production&apos;)</div><div class="line">       &#125;</div><div class="line">     &#125;)</div><div class="line">   ]</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h3 id="What’s-Vue-js-Vue-is-a-progressive-framework-for-building-user-interfaces"><a href="#What’s-Vue-js-Vue-is-a-progressive-framework-for-building-user-interfaces" class="headerlink" title="What’s Vue.js:Vue is a progressive framework for building user interfaces."></a>What’s Vue.js:Vue is a progressive framework for building user interfaces.</h3><h3 id="Declarative-Rendering-声明式渲染"><a href="#Declarative-Rendering-声明式渲染" class="headerlink" title="Declarative Rendering 声明式渲染"></a>Declarative Rendering 声明式渲染</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//html</div><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">  &#123;&#123; message &#125;&#125;</div><div class="line">&lt;/div&gt;</div><div class="line">//js</div><div class="line">var app = new Vue(&#123;</div><div class="line">  el: &apos;#app&apos;,</div><div class="line">  data: &#123;</div><div class="line">    message: &apos;Hello Vue!&apos;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="Conditionals-and-Loops"><a href="#Conditionals-and-Loops" class="headerlink" title="Conditionals and Loops"></a>Conditionals and Loops</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">//html</div><div class="line">&lt;div id=&quot;app-3&quot;&gt;</div><div class="line">  &lt;p v-if=&quot;seen&quot;&gt;Now you see me&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div id=&quot;app-4&quot;&gt;</div><div class="line">  &lt;ol&gt;</div><div class="line">    &lt;li v-for=&quot;todo in todos&quot;&gt;</div><div class="line">      &#123;&#123; todo.text &#125;&#125;</div><div class="line">    &lt;/li&gt;</div><div class="line">  &lt;/ol&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">//js</div><div class="line">var app3 = new Vue(&#123;</div><div class="line">  el: &apos;#app-3&apos;,</div><div class="line">  data: &#123;</div><div class="line">    seen: true</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line">var app4 = new Vue(&#123;</div><div class="line">  el: &apos;#app-4&apos;,</div><div class="line">  data: &#123;</div><div class="line">    todos: [</div><div class="line">      &#123; text: &apos;Learn JavaScript&apos; &#125;,</div><div class="line">      &#123; text: &apos;Learn Vue&apos; &#125;,</div><div class="line">      &#123; text: &apos;Build something awesome&apos; &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="Handling-User-Input"><a href="#Handling-User-Input" class="headerlink" title="Handling User Input"></a>Handling User Input</h3><blockquote>
<p>To let users interact with your app, we can use the v-on directive to attach event<br>listeners that invoke methods on our Vue instances:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app-5&quot;&gt;</div><div class="line">  &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt;</div><div class="line">  &lt;button v-on:click=&quot;reverseMessage&quot;&gt;Reverse Message&lt;/button&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div id=&quot;app-6&quot;&gt;</div><div class="line">  &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt;</div><div class="line">  &lt;input v-model=&quot;message&quot;&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">//js</div><div class="line">var app5 = new Vue(&#123;</div><div class="line">  el: &apos;#app-5&apos;,</div><div class="line">  data: &#123;</div><div class="line">    message: &apos;Hello Vue.js!&apos;</div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">    reverseMessage: function () &#123;</div><div class="line">      this.message = this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line">var app6 = new Vue(&#123;</div><div class="line">  el: &apos;#app-6&apos;,</div><div class="line">  data: &#123;</div><div class="line">    message: &apos;Hello Vue!&apos;</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="Composing-with-Components"><a href="#Composing-with-Components" class="headerlink" title="Composing with Components"></a>Composing with Components</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//js</div><div class="line">// Define a new component called todo-item</div><div class="line">Vue.component(&apos;todo-item&apos;, &#123;</div><div class="line">  template: &apos;&lt;li&gt;This is a todo&lt;/li&gt;&apos;</div><div class="line">&#125;)</div><div class="line">//html</div><div class="line">&lt;ol&gt;</div><div class="line">  &lt;!-- Create an instance of the todo-item component --&gt;</div><div class="line">  &lt;todo-item&gt;&lt;/todo-item&gt;</div><div class="line">&lt;/ol&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>Relation to Custom Elements—区别</p>
<ol>
<li>Web Components Spec 一直是草案,而Vue components 不依赖任何处理可以工作在任何浏览器(IE9以上)<br>且可嵌入到原生element。</li>
<li>Vue组件提供了在纯自定义元素中不可用的重要功能，最突出的是跨组件数据流，自定义事件通信和构建工具集成。<h2 id="The-Vue-Instance"><a href="#The-Vue-Instance" class="headerlink" title="The Vue Instance"></a>The Vue Instance</h2><h3 id="Constructor"><a href="#Constructor" class="headerlink" title="Constructor"></a>Constructor</h3>Although not strictly associated with the MVVM pattern, Vue’s design was partly inspired by it. <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var data = &#123; a: 1 &#125;</div><div class="line">var vm = new Vue(&#123;</div><div class="line">  el: &apos;#example&apos;,</div><div class="line">  data: data</div><div class="line">&#125;)</div><div class="line">vm.$data === data // -&gt; true</div><div class="line">vm.$el === document.getElementById(&apos;example&apos;) // -&gt; true</div><div class="line">// $watch is an instance method</div><div class="line">vm.$watch(&apos;a&apos;, function (newVal, oldVal) &#123;</div><div class="line">  // this callback will be called when `vm.a` changes</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<h3 id="Instance-Lifecycle-Hooks"><a href="#Instance-Lifecycle-Hooks" class="headerlink" title="Instance Lifecycle Hooks"></a>Instance Lifecycle Hooks</h3><p>![<a href="http://vuejs.org/images/lifecycle.png][http://vuejs.org/images/lifecycle.png" target="_blank" rel="external">http://vuejs.org/images/lifecycle.png][http://vuejs.org/images/lifecycle.png</a>]</p>
<h2 id="Template-Syntax"><a href="#Template-Syntax" class="headerlink" title="Template Syntax"></a>Template Syntax</h2><blockquote>
<p>Vue.js uses an HTML-based template syntax that allows you to declaratively bind the rendered DOM<br>to the underlying Vue instance’s data. All Vue.js templates are valid HTML that can be parsed by<br>spec-compliant browsers and HTML parsers.<br>Under the hood, Vue compiles the templates into Virtual DOM render functions(虚拟DOM渲染函数).<br>Combined with the reactivity system, Vue is able to intelligently figure out the minimal amount of components to<br>re-render and apply the minimal amount of DOM manipulations when the app state changes.</p>
<h3 id="Interpolations-插值"><a href="#Interpolations-插值" class="headerlink" title="Interpolations(插值)"></a>Interpolations(插值)</h3><ul>
<li>Text:<figure class="highlight plain"><figcaption><span>&#123;&#123; msg &#125;&#125;</span> ```</figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Raw HTML:```&lt;div v-html=&quot;rawHtml&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<ul>
<li>Attributes:<figure class="highlight plain"><figcaption><span>v-bind:id="dynamicId">```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Using JS Expressions:```&lt;div v-bind:id=&quot;&apos;list-&apos; + id&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></li>
</ul>
<h3 id="Directions—Directives-are-special-attributes-with-the-v-prefix"><a href="#Directions—Directives-are-special-attributes-with-the-v-prefix" class="headerlink" title="Directions—Directives are special attributes with the v- prefix."></a>Directions—Directives are special attributes with the v- prefix.</h3><ul>
<li><p>Arguments:Some directives can take an “argument”, denoted by a colon after the directive name. </p>
<figure class="highlight plain"><figcaption><span>v-on:click="doSomething">```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- Modifiers: indicate that a directive should be bound in some special way. </div><div class="line">```  &lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>Filters: apply common text formatting.</p>
<blockquote>
<p>Vue 2.x过滤器只能在胡子插值和v绑定表达式（后者自2.1.0以来支持）内使用，因为过滤器主要设计用于文本转换目的。<br>对于其他指令中更复杂的数据变换，应该使用计算属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">//html</div><div class="line">&#123;&#123; message | capitalize &#125;&#125;</div><div class="line">//js</div><div class="line">new Vue(&#123;</div><div class="line">  // ...</div><div class="line">  filters: &#123;</div><div class="line">    capitalize: function (value) &#123;</div><div class="line">      if (!value) return &apos;&apos;</div><div class="line">      value = value.toString()</div><div class="line">      return value.charAt(0).toUpperCase() + value.slice(1)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>Shorthands:<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;!-- full syntax --&gt;</div><div class="line">&lt;a v-bind:href=&quot;url&quot;&gt;&lt;/a&gt;</div><div class="line">&lt;!-- shorthand --&gt;</div><div class="line">&lt;a :href=&quot;url&quot;&gt;&lt;/a&gt;</div><div class="line">&lt;!-- full syntax --&gt;</div><div class="line">&lt;a v-on:click=&quot;doSomething&quot;&gt;&lt;/a&gt;</div><div class="line">&lt;!-- shorthand --&gt;</div><div class="line">&lt;a @click=&quot;doSomething&quot;&gt;&lt;/a&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="Computed-Properties-and-Watchers"><a href="#Computed-Properties-and-Watchers" class="headerlink" title="Computed Properties and Watchers"></a>Computed Properties and Watchers</h2><h3 id="Computed-Properties"><a href="#Computed-Properties" class="headerlink" title="Computed Properties"></a>Computed Properties</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">computed: &#123;</div><div class="line">   // a computed getter</div><div class="line">   reversedMessage: function () &#123;</div><div class="line">     // `this` points to the vm instance</div><div class="line">     return this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)</div><div class="line">   &#125;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<ul>
<li>Computed Caching vs Methods: the computed properties are cached based on their dependencies</li>
<li>Computed vs Watched Property:better to use a computed property</li>
<li>Computed Setter:you can provide a setter when you need it:<h3 id="Watchers"><a href="#Watchers" class="headerlink" title="Watchers"></a>Watchers</h3><blockquote>
<p>when you want to perform asynchronous or expensive operations in response to changing data.</p>
<h2 id="Class-and-Style-Bindings"><a href="#Class-and-Style-Bindings" class="headerlink" title="Class and Style Bindings"></a>Class and Style Bindings</h2><h3 id="Binding-HTML-Classes"><a href="#Binding-HTML-Classes" class="headerlink" title="Binding HTML Classes"></a>Binding HTML Classes</h3></blockquote>
</li>
<li><p>Object Syntax </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:class=&quot;&#123; active: isActive &#125;&quot;&gt;&lt;/div&gt;</div><div class="line"> &lt;div class=&quot;static&quot;</div><div class="line">      v-bind:class=&quot;&#123; active: isActive, &apos;text-danger&apos;: hasError &#125;&quot;&gt;</div><div class="line"> &lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>Array Syntax</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:class=&quot;[activeClass, errorClass]&quot;&gt;</div><div class="line">&lt;div v-bind:class=&quot;[isActive ? activeClass : &apos;&apos;, errorClass]&quot;&gt;</div><div class="line">&lt;div v-bind:class=&quot;[&#123; active: isActive &#125;, errorClass]&quot;&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>With Components</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;my-component v-bind:class=&quot;&#123; active: isActive &#125;&quot;&gt;&lt;/my-component&gt;</div><div class="line">//When isActive is truthy, the rendered HTML will be:</div><div class="line">&lt;p class=&quot;foo bar active&quot;&gt;Hi&lt;/p&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Binding-Inline-Styles"><a href="#Binding-Inline-Styles" class="headerlink" title="Binding Inline Styles"></a>Binding Inline Styles</h3><ul>
<li><p>Object Syntax/Array Syntax</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:style=&quot;&#123; color: activeColor, fontSize: fontSize + &apos;px&apos; &#125;&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;div v-bind:style=&quot;[baseStyles, overridingStyles]&quot;&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>Auto-prefixing:Vue已替你考虑CSS的浏览器兼容性</p>
<h2 id="List-Rending"><a href="#List-Rending" class="headerlink" title="List Rending"></a>List Rending</h2><h3 id="v-if-v-else-if"><a href="#v-if-v-else-if" class="headerlink" title="v-if/v-else-if"></a>v-if/v-else-if</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;div v-if=&quot;type === &apos;A&apos;&quot;&gt;</div><div class="line">  A</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div v-else-if=&quot;type === &apos;B&apos;&quot;&gt;</div><div class="line">  B</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div v-else-if=&quot;type === &apos;C&apos;&quot;&gt;</div><div class="line">  C</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div v-else&gt;</div><div class="line">  Not A/B/C</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>Controlling Reusable Elements with key</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;template v-if=&quot;loginType === &apos;username&apos;&quot;&gt;</div><div class="line">  &lt;label&gt;Username&lt;/label&gt;</div><div class="line">  &lt;input placeholder=&quot;Enter your username&quot;&gt;</div><div class="line">&lt;/template&gt;</div><div class="line">&lt;template v-else&gt;</div><div class="line">  &lt;label&gt;Email&lt;/label&gt;</div><div class="line">  &lt;input placeholder=&quot;Enter your email address&quot;&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>v-show <figure class="highlight plain"><figcaption><span>v-show="ok">Hello!```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">- v-if vs v-show</div><div class="line">v-if is “real” conditional rendering because it ensures that event listeners and child components inside the </div><div class="line">conditional block are properly destroyed and re-created during toggles.</div><div class="line"></div><div class="line">v-if is also lazy: if the condition is false on initial render, it will not do anything - the conditional block won’t </div><div class="line">be rendered until the condition becomes true for the first time.</div><div class="line"></div><div class="line">In comparison, v-show is much simpler - the element is always rendered regardless of initial condition, </div><div class="line">with just simple CSS-based toggling.And Please note that v-show doesn’t support the &lt;template&gt; syntax, </div><div class="line">nor does it work with v-else</div><div class="line"></div><div class="line">Generally speaking, v-if has higher toggle costs while v-show has higher initial render costs. So prefer v-show if </div><div class="line">you need to toggle something very often, and prefer v-if if the condition is unlikely to change at runtime.</div><div class="line">- v-if vs v-show:v-for has a higher priority than v-if</div><div class="line">## List Rendering</div><div class="line">###  v-for:We can use the v-for directive to render a list of items based on an array.</div><div class="line">- Basic use</div><div class="line">&gt;You can also use of as the delimiter instead of in, so that it is closer to JavaScript’s syntax for iterators:</div></pre></td></tr></table></figure></p>
</li>
</ul>
<p>//html</p>
<p><ul id="example-1"><br>  <li v-for="item of items"><br>    <br>  </li><br></ul></p>
<p><ul id="example-2"><br>  <li v-for="(item, index) in items"><br>     -  - <br>  </li><br></ul><br>//js<br>var example1 = new Vue({<br>  el: ‘#example-1’,<br>  data: {<br>    items: [<br>      { message: ‘Foo’ },<br>      { message: ‘Bar’ }<br>    ]<br>  }<br>});<br>var example2 = new Vue({<br>  el: ‘#example-2’,<br>  data: {<br>    parentMessage: ‘Parent’,<br>    items: [<br>      { message: ‘Foo’ },<br>      { message: ‘Bar’ }<br>    ]<br>  }<br>});<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Template v-for:```&lt;template v-for=&quot;item in items&quot;&gt;</div></pre></td></tr></table></figure></p>
<ul>
<li>Object v-for:<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;li v-for=&quot;value in object&quot;&gt;</div><div class="line">//You can also provide a second argument for the key:</div><div class="line">&lt;div v-for=&quot;(value, key) in object&quot;&gt;</div><div class="line">//And another for the index:</div><div class="line">&lt;div v-for=&quot;(value, key, index) in object&quot;&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>When iterating over an object, the order is based on the key enumeration order of Object.keys()<br>不保证所有JS引擎里边都表现一致。</p>
<ul>
<li>Range v-for:<figure class="highlight plain"><figcaption><span>v-for="n in 10">&#123;&#123; n &#125;&#125;</span>```</figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Components and v-for:</div></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<p><my-component v-for="(item, index) in items" v-bind:item="item" v-bind:index="index" v-bind:key="item.id"><br></my-component><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&gt;In 2.2.0+, when using v-for with a component, a key is now required.It is recommended to provide a key with v-for whenever possible</div><div class="line">###  Array Change Detection</div><div class="line">- Mutation Methods:突变方法</div><div class="line">    + push()</div><div class="line">    + pop()</div><div class="line">    + shift()</div><div class="line">    + unshift()</div><div class="line">    + splice()</div><div class="line">    + sort()</div><div class="line">    + reverse()</div><div class="line">- Replacing an Array:  do not mutate the original array but always return a new array</div><div class="line">    + filter()</div><div class="line">    + concat()</div><div class="line">    + slice()</div></pre></td></tr></table></figure></p>
<pre><code>example1.items = example1.items.filter(function (item) {
  return item.message.match(/Foo/)
})
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- Caveats:Due to limitations in JavaScript, Vue cannot detect the following changes to an array:</div><div class="line">    + When you directly set an item with the index, e.g. vm.items[indexOfItem] = newValue</div></pre></td></tr></table></figure>

// Vue.set
Vue.set(example1.items, indexOfItem, newValue)
// Array.prototype.splice`
example1.items.splice(indexOfItem, 1, newValue)
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">+ When you modify the length of the array, e.g. vm.items.length = newLength</div><div class="line">```example1.items.splice(newLength)</div></pre></td></tr></table></figure>
</code></pre><h3 id="Displaying-Filtered-Sorted-Results"><a href="#Displaying-Filtered-Sorted-Results" class="headerlink" title="Displaying Filtered/Sorted Results"></a>Displaying Filtered/Sorted Results</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//create a computed property </div><div class="line">&lt;li v-for=&quot;n in evenNumbers&quot;&gt;&#123;&#123; n &#125;&#125;&lt;/li&gt;</div><div class="line">// use a method where computed properties are not feasible (e.g. inside nested v-for loops):</div><div class="line">&lt;li v-for=&quot;n in even(numbers)&quot;&gt;&#123;&#123; n &#125;&#125;&lt;/li&gt;</div></pre></td></tr></table></figure>
<h2 id="Event-Handing"><a href="#Event-Handing" class="headerlink" title="Event Handing"></a>Event Handing</h2><h3 id="Listening-to-Events-use-the-v-on-directive"><a href="#Listening-to-Events-use-the-v-on-directive" class="headerlink" title="Listening to Events:use the v-on directive"></a>Listening to Events:use the v-on directive</h3><figure class="highlight plain"><figcaption><span>v-on:click="counter += 1">Add 1```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">###  Method Event Handlers:when event handlers are more complex</div><div class="line">```&lt;button v-on:click=&quot;counter += 1&quot;&gt;Add 1&lt;/button&gt;</div></pre></td></tr></table></figure>
<h3 id="Methods-in-Inline-Handlers"><a href="#Methods-in-Inline-Handlers" class="headerlink" title="Methods in Inline Handlers"></a>Methods in Inline Handlers</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;button v-on:click=&quot;say(&apos;hi&apos;)&quot;&gt;Say hi&lt;/button&gt;</div><div class="line">//Sometimes we also need to access the original DOM event in an inline statement handler. </div><div class="line">&lt;button v-on:click=&quot;warn(&apos;Form cannot be submitted yet.&apos;, $event)&quot;&gt;Submit&lt;/button&gt;</div><div class="line">//js</div><div class="line">methods: &#123;</div><div class="line">  warn: function (message, event) &#123;</div><div class="line">    // now we have access to the native event</div><div class="line">    if (event) event.preventDefault()</div><div class="line">    alert(message)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Event-Modifiers-To-address-the-problem-of-purely-dealing-with-data-logic-rather-than-DOM-event-details"><a href="#Event-Modifiers-To-address-the-problem-of-purely-dealing-with-data-logic-rather-than-DOM-event-details" class="headerlink" title="Event Modifiers:To address the problem of purely dealing with data logic rather than  DOM event details"></a>Event Modifiers:To address the problem of purely dealing with data logic rather than  DOM event details</h3><ul>
<li>.stop</li>
<li>.prevent</li>
<li>.capture</li>
<li>.self</li>
<li>.once:New in 2.1.4<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;!-- the click event&apos;s propagation will be stopped --&gt;</div><div class="line">&lt;a v-on:click.stop=&quot;doThis&quot;&gt;&lt;/a&gt;</div><div class="line">&lt;!-- the submit event will no longer reload the page --&gt;</div><div class="line">&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;</div><div class="line">&lt;!-- modifiers can be chained --&gt;</div><div class="line">&lt;a v-on:click.stop.prevent=&quot;doThat&quot;&gt;&lt;/a&gt;</div><div class="line">&lt;!-- just the modifier --&gt;</div><div class="line">&lt;form v-on:submit.prevent&gt;&lt;/form&gt;</div><div class="line">&lt;!-- use capture mode when adding the event listener --&gt;</div><div class="line">&lt;div v-on:click.capture=&quot;doThis&quot;&gt;...&lt;/div&gt;</div><div class="line">&lt;!-- only trigger handler if event.target is the element itself --&gt;</div><div class="line">&lt;!-- i.e. not from a child element --&gt;</div><div class="line">&lt;div v-on:click.self=&quot;doThat&quot;&gt;...&lt;/div&gt;</div><div class="line">&lt;!-- the click event will be triggered at most once --&gt;</div><div class="line">&lt;a v-on:click.once=&quot;doThis&quot;&gt;&lt;/a&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Key-Modifiers-Modifier-Keys"><a href="#Key-Modifiers-Modifier-Keys" class="headerlink" title="Key Modifiers/Modifier Keys"></a>Key Modifiers/Modifier Keys</h3><h2 id="Form-Input-Bindings"><a href="#Form-Input-Bindings" class="headerlink" title="Form Input Bindings"></a>Form Input Bindings</h2><h3 id="Basic-Usage"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage</h3><ul>
<li>Text <figure class="highlight plain"><figcaption><span>v-model="message" placeholder="edit me">```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Multiline text</div></pre></td></tr></table></figure></li>
</ul>
<p>//Interpolation on textareas (<textarea></textarea>) won’t work. Use v-model instead.</p>
<p><textarea v-model="message" placeholder="add multiple lines"></textarea><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Checkbox ```&lt;input type=&quot;checkbox&quot; id=&quot;checkbox&quot; v-model=&quot;checked&quot;&gt;</div></pre></td></tr></table></figure></p>
<ul>
<li>Radio <figure class="highlight plain"><figcaption><span>type="radio" id="one" v-model="picked">```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Select:</div></pre></td></tr></table></figure></li>
</ul>
<p>//Single select</p>
<select v-model="selected"><br>//Multiple select<br></select><select v-model="selected" multiple><br><option v-for="option in options" v-bind:value="option.value"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">###  Value Bindings</div><div class="line">&gt;For radio, checkbox and select options, the v-model binding values are usually static strings (or booleans for checkbox):</div><div class="line">We can use v-bind to bind the value to a dynamic property on the Vue instance.</div></pre></td></tr></table></figure><br><br><!-- `picked` is a string "a" when checked --><br></option></select><input type="radio" v-model="picked" value="a"><br><!-- `toggle` is either true or false --><br><input type="checkbox" v-model="toggle"><br><!-- `selected` is a string "abc" when selected --><br><select v-model="selected"><br>  <option value="abc">ABC</option><br></select>

<p><input type="checkbox" v-model="toggle" v-bind:true-value="a" v-bind:false-value="b"><br>// when checked:<br>vm.toggle === vm.a<br>// when unchecked:<br>vm.toggle === vm.b<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">###  Modifiers</div><div class="line">- .lazy```&lt;input v-model.lazy=&quot;msg&quot; &gt;</div></pre></td></tr></table></figure></p>
<ul>
<li>.number <figure class="highlight plain"><figcaption><span>v-model.number="age" type="number">```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- .trim ```&lt;input v-model.trim=&quot;msg&quot;&gt;</div></pre></td></tr></table></figure></li>
</ul>
<h3 id="v-model-with-Components"><a href="#v-model-with-Components" class="headerlink" title="v-model with Components"></a>v-model with Components</h3><h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><h3 id="Using-Components"><a href="#Using-Components" class="headerlink" title="Using Components"></a>Using Components</h3><ul>
<li><p>Registration</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;my-component&apos;, &#123;</div><div class="line">  // options</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>Local Registration</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var Child = &#123;</div><div class="line">  template: &apos;&lt;div&gt;A custom component!&lt;/div&gt;&apos;</div><div class="line">&#125;</div><div class="line">new Vue(&#123;</div><div class="line">  // ...</div><div class="line">  components: &#123;</div><div class="line">    // &lt;my-component&gt; will only be available in parent&apos;s template</div><div class="line">    &apos;my-component&apos;: Child</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>DOM Template Parsing Caveats</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//A workaround is to use the is special attribute:</div><div class="line">&lt;table&gt;</div><div class="line">  &lt;tr is=&quot;my-row&quot;&gt;&lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>data Must Be a Function</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">data: function () &#123;</div><div class="line">    return data</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Composing Components<br>![<a href="http://vuejs.org/images/props-events.png][http://vuejs.org/images/props-events.png" target="_blank" rel="external">http://vuejs.org/images/props-events.png][http://vuejs.org/images/props-events.png</a>]</p>
<h3 id="Props"><a href="#Props" class="headerlink" title="Props"></a>Props</h3></li>
<li><p>Passing Data with Props</p>
<blockquote>
<p>Every component instance has its own isolated scope. Data can be passed down to child components using props.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//html</div><div class="line">&lt;child message=&quot;hello!&quot;&gt;&lt;/child&gt;</div><div class="line">//js</div><div class="line">Vue.component(&apos;child&apos;, &#123;</div><div class="line">  // declare the props</div><div class="line">  props: [&apos;message&apos;],</div><div class="line">  // just like data, the prop can be used inside templates</div><div class="line">  // and is also made available in the vm as this.message</div><div class="line">  template: &apos;&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;&apos;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>Dynamic Props</p>
<figure class="highlight plain"><figcaption><span>:my-message="parentMsg">```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Literal vs Dynamic</div></pre></td></tr></table></figure>
</li>
</ul>
<p>//初学者常犯的错误是试图利用仔面了语法传值。<br><!-- this passes down a plain string "1" --></p>
<p><comp some-prop="1"></comp><br>//事实上，若想传值我们需要用v-bind以便值被认定为JS表达式<br><!-- this passes down an actual number --></p>
<p><comp v-bind:some-prop="1"></comp><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- One-Way Data Flow</div><div class="line">&gt; 注意对象和数组在JS中是按引用传递的，故当prop是对象或数组时改变子组件数据会影响父组件状态</div></pre></td></tr></table></figure></p>
<p>/<em>1. Define a local data property that uses the prop’s initial value as its initial value:<br>定义一个利用props值作为初始值的本地数据属性</em>/<br>props: [‘initialCounter’],<br>data: function () {<br>  return { counter: this.initialCounter }<br>}<br>/<em>2.Define a computed property that is computed from the prop’s value:<br>定义一个将props值计算过的计算属性
</em>/<br>props: [‘size’],<br>computed: {<br>  normalizedSize: function () {<br>    return this.size.trim().toLowerCase()<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Prop Validation</div></pre></td></tr></table></figure></p>
<p>Vue.component(‘example’, {<br>  props: {<br>    // basic type check (<code>null</code> means accept any type)<br>    propA: Number,<br>    // multiple possible types<br>    propB: [String, Number],<br>    // a required string<br>    propC: {<br>      type: String,<br>      required: true<br>    },<br>    // a number with default value<br>    propD: {<br>      type: Number,<br>      default: 100<br>    },<br>    // object/array defaults should be returned from a<br>    // factory function<br>    propE: {<br>      type: Object,<br>      default: function () {<br>        return { message: ‘hello’ }<br>      }<br>    },<br>    // custom validator function<br>    propF: {<br>      validator: function (value) {<br>        return value &gt; 10<br>      }<br>    }<br>  }<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">###  Custom Events</div><div class="line">&gt; 父组件可以像子组件单向传递数据，反之呢？此即custom events应用之处。</div><div class="line">注意事件系统，Vue的独立于浏览器的即便看起来很像；不能利用$on监听子组件事件分发，必须在template上直接用</div><div class="line">v-on，见如下实例</div><div class="line">- Using v-on with Custom Events</div><div class="line">    + Listen to an event using $on(eventName)</div><div class="line">    + Trigger an event using $emit(eventName)</div></pre></td></tr></table></figure></p>
<p><div id="counter-event-example"><br>  <p></p><br>  <button-counter v-on:increment="incrementTotal"></button-counter><br>  <button-counter v-on:increment="incrementTotal"></button-counter><br></div><br>//js<br>Vue.component(‘button-counter’, {<br>  template: ‘<button v-on:click="increment"></button>‘,<br>  data: function () {<br>    return {<br>      counter: 0<br>    }<br>  },<br>  methods: {<br>    increment: function () {<br>      this.counter += 1<br>      this.$emit(‘increment’)<br>    }<br>  },<br>})<br>new Vue({<br>  el: ‘#counter-event-example’,<br>  data: {<br>    total: 0<br>  },<br>  methods: {<br>    incrementTotal: function () {<br>      this.total += 1<br>    }<br>  }<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Binding Native Events to Components</div></pre></td></tr></table></figure></p>
<p><my-component v-on:click.native="doTheThing"></my-component><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Form Input Components using Custom Events</div></pre></td></tr></table></figure></p>
<p><input v-model="something"><br>//is just syntactic sugar for:</p>
<p><input v-bind:value="something" v-on:input="something = $event.target.value"><br>//When used with a component, this simplifies to:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Customizing Component v-model:New in 2.2.0</div></pre></td></tr></table></figure></p>
<p>//html</p>
<p><my-checkbox v-model="foo" value="some value"></my-checkbox>//or</p>
<p><my-checkbox :checked="foo" @change="val => { foo = val }" value="some value"><br></my-checkbox><br>//js<br>Vue.component(‘my-checkbox’, {<br>  model: {<br>    prop: ‘checked’,<br>    event: ‘change’<br>  },<br>  props: {<br>    // this allows using the <code>value</code> prop for a different purpose<br>    value: String<br>  },<br>  // …<br>});<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Non Parent-Child Communication</div></pre></td></tr></table></figure></p>
<p>var bus = new Vue()<br>// in component A’s method<br>bus.$emit(‘id-selected’, 1)<br>// in component B’s created hook<br>bus.$on(‘id-selected’, function (id) {<br>  // …<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">###  Content Distribution with Slots</div><div class="line">###  Dynamic Components</div></pre></td></tr></table></figure></p>
<p>//html</p>
<p><keep-alive><br>  <component :is="currentView"><br>    <!-- inactive components will be cached! --><br>  </component><br></keep-alive><br>//js<br>var vm = new Vue({<br>  el: ‘#example’,<br>  data: {<br>    currentView: ‘home’<br>  },<br>  components: {<br>    home: { /<em> … </em>/ },<br>    posts: { /<em> … </em>/ },<br>    archive: { /<em> … </em>/ }<br>  }<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">###  Misc</div><div class="line">- Authoring Reusable Components</div><div class="line">&gt;The API for a Vue component comes in three parts - props, events, and slots:</div><div class="line">    </div><div class="line">    + Props :allow the external environment to pass data into the component</div><div class="line">        允许外部环境向组件内传数据</div><div class="line">    + Events :allow the component to trigger side effects in the external environment</div><div class="line">        允许组件触发边际响应到外部环境</div><div class="line">    + Slots :allow the external environment to compose the component with extra content.</div><div class="line">        允许外部环境用额外内容完善组件</div></pre></td></tr></table></figure></p>
<p><my-component :foo="baz" :bar="qux" @event-a="doThis" @event-b="doThat"><br>  <img slot="icon" src="..."><br>  <p slot="main-text">Hello!</p><br></my-component><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- Child Component Refs:directly access a child component in JS.</div></pre></td></tr></table></figure></p>
<p>//html</p>
<p><div id="parent"><br>  <user-profile ref="profile"></user-profile><br></div><br>//js<br>var parent = new Vue({ el: ‘#parent’ })<br>// access child component instance<br>var child = parent.$refs.profile<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; 小心坑：$refs are only populated after the component has been rendered, and it is not reactive. </div><div class="line">It is only meant as an escape hatch for direct child manipulation - you should avoid using $refs in templates or computed properties.</div><div class="line">- Async Components</div></pre></td></tr></table></figure></p>
<p>Vue.component(‘async-example’, function (resolve, reject) {<br>  setTimeout(function () {<br>    // Pass the component definition to the resolve callback<br>    resolve({<br>      template: ‘<div>I am async!</div>‘<br>    })<br>  }, 1000)<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">- Component Naming Conventions</div><div class="line">- Recursive(递归) Components</div><div class="line">- Circular References Between Components</div><div class="line">- Inline Templates</div><div class="line">- X-Templates</div><div class="line">- Cheap Static Components with v-once</div><div class="line"># Advanced</div><div class="line">## Reactivity in </div><div class="line">&gt; Models are just plain JavaScript objects. When you modify them, the view updates. It makes state management very</div><div class="line"> simple and intuitive, but it’s also important to understand how it works to avoid some common gotchas. </div><div class="line">模型层(model)只是普通 JavaScript 对象，修改它则更新视图(view)。这会让状态管理变得非常简单且直观</div><div class="line">### How Changes Are Tracked</div><div class="line">&gt; 把一个普通 Javascript 对象传给 Vue 实例的 data 选项，Vue 将遍历此对象所有的属性，并使用 Object.defineProperty </div><div class="line">把这些属性全部转为 getter/setter。</div><div class="line"></div><div class="line">![https://vuefe.cn/images/data.png][https://vuefe.cn/images/data.png]</div><div class="line">###  Change Detection Caveats 变化检测局限</div><div class="line">&gt; Vue cannot detect property addition or deletion.Since Vue performs the getter/setter conversion process</div><div class="line"> during instance initialization, a property must be present in the data object in order for Vue to convert it and make it reactive.</div></pre></td></tr></table></figure></p>
<p>var vm = new Vue({<br>  data: {<br>    a: 1<br>  }<br>})<br>// <code>vm.a</code> is now reactive<br>vm.b = 2<br>// <code>vm.b</code> is NOT reactive<br>Vue.set(vm.someObject, ‘b’, 2);<br>//<br>this.$set(this.someObject, ‘b’, 2)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">###  Declaring Reactive Properties</div><div class="line">###  Async Update Queue</div><div class="line">&gt;Vue performs DOM updates asynchronously. Whenever a data change is observed, </div><div class="line">it will open a queue and buffer all the data changes that happen in the same event loop.</div><div class="line"> Internally Vue tries native Promise.then </div><div class="line"> and MutationObserver for the asynchronous queuing and falls back to setTimeout(fn, 0).</div><div class="line">- In order to wait until Vue.js has finished updating the DOM after a data change, you can use Vue.nextTick(callback) immediately after the data is changed.</div></pre></td></tr></table></figure></p>
<p>Vue.component(‘example’, {<br>  template: ‘<span></span>‘,<br>  data: function () {<br>    return {<br>      message: ‘not updated’<br>    }<br>  },<br>  methods: {<br>    updateMessage: function () {<br>      this.message = ‘updated’<br>      console.log(this.$el.textContent) // =&gt; ‘not updated’<br>      this.$nextTick(function () {<br>        console.log(this.$el.textContent) // =&gt; ‘updated’<br>      })<br>    }<br>  }<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">## Transition Effects</div><div class="line">&gt; Vue provides a variety of ways to apply transition effects when items are inserted, updated, or removed from the DOM. This includes tools to:</div><div class="line">  - automatically apply classes for CSS transitions and animations</div><div class="line">  - integrate 3rd-party CSS animation libraries, such as Animate.css</div><div class="line">  - use JavaScript to directly manipulate the DOM during transition hooks</div><div class="line">  - integrate 3rd-party JavaScript animation libraries, such as Velocity.js</div><div class="line">###  Transitioning Single Elements/Components</div><div class="line">- transitions for any element or component in the following contexts:</div><div class="line">    + Conditional rendering (using v-if)</div><div class="line">    + Conditional display (using v-show)</div><div class="line">    + Dynamic components</div><div class="line">    + Component root nodes</div></pre></td></tr></table></figure></p>
<p>//html</p>
<p><div id="demo"><br>  <button v-on:click="show = !show"><br>    Toggle<br>  </button><br>  <transition name="fade"><br>    <p v-if="show">hello</p><br>  </transition><br></div><br>//js<br>new Vue({<br>  el: ‘#demo’,<br>  data: {<br>    show: true<br>  }<br>})<br>//css<br>.fade-enter-active, .fade-leave-active {<br>  transition: opacity .5s<br>}<br>.fade-enter, .fade-leave-to /<em> .fade-leave-active in &lt;2.1.8 </em>/ {<br>  opacity: 0<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- Transition Classes</div><div class="line">    1. v-enter</div><div class="line">    2. v-enter-active</div><div class="line">    3. v-enter-to</div><div class="line">    4. v-leave</div><div class="line">    5. v-leave-active</div><div class="line">    6. v-leave-to</div><div class="line">- CSS Transitions</div><div class="line">&gt;One of the most common transition types uses CSS transitions</div></pre></td></tr></table></figure></p>
<p>//html</p>
<p><div id="example-1"><br>  <button @click="show = !show"><br>    Toggle render<br>  </button><br>  <transition name="slide-fade"><br>    <p v-if="show">hello</p><br>  </transition><br></div><br>//js<br>new Vue({<br>  el: ‘#example-1’,<br>  data: {<br>    show: true<br>  }<br>})<br>//css<br>/<em> Enter and leave animations can use different </em>/<br>/<em> durations and timing functions.              </em>/<br>.slide-fade-enter-active {<br>  transition: all .3s ease;<br>}<br>.slide-fade-leave-active {<br>  transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);<br>}<br>.slide-fade-enter, .slide-fade-leave-to<br>/<em> .slide-fade-leave-active for &lt;2.1.8 </em>/ {<br>  transform: translateX(10px);<br>  opacity: 0;<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- CSS Animations</div></pre></td></tr></table></figure></p>
<p>//html</p>
<p><div id="example-2"><br>  <button @click="show = !show">Toggle show</button><br>  <transition name="bounce"><br>    <p v-if="show">Look at me!</p><br>  </transition><br></div><br>//js<br>new Vue({<br>  el: ‘#example-2’,<br>  data: {<br>    show: true<br>  }<br>})<br>//css<br>.bounce-enter-active {<br>  animation: bounce-in .5s;<br>}<br>.bounce-leave-active {<br>  animation: bounce-out .5s;<br>}<br>@keyframes bounce-in {<br>  0% {<br>    transform: scale(0);<br>  }<br>  50% {<br>    transform: scale(1.5);<br>  }<br>  100% {<br>    transform: scale(1);<br>  }<br>}<br>@keyframes bounce-out {<br>  0% {<br>    transform: scale(1);<br>  }<br>  50% {<br>    transform: scale(1.5);<br>  }<br>  100% {<br>    transform: scale(0);<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">- Custom Transition Classes</div><div class="line">    + enter-class</div><div class="line">    + enter-active-class</div><div class="line">    + enter-to-class (&gt;= 2.1.8 only)</div><div class="line">    + leave-class</div><div class="line">    + leave-active-class</div><div class="line">    + leave-to-class (&gt;= 2.1.8 only)</div><div class="line">- Using Transitions and Animations Together</div><div class="line">- Explicit Transition Durations:显式转换持续时间</div><div class="line">- JS Hooks</div><div class="line">###  Transitions on Initial Render</div><div class="line">###  Transitioning Between Elements</div><div class="line">- Transition Modes</div><div class="line">###  Transitioning Between Components</div><div class="line">## Transitioning State</div><div class="line">&gt;Vue’s transition system offers many simple ways to animate entering, </div><div class="line">leaving, and lists, but what about animating your data itself? For example: </div><div class="line">    </div><div class="line">    - numbers and calculations</div><div class="line">    - colors displayed</div><div class="line">    - the positions of SVG nodes</div><div class="line">    - the sizes and other properties of elements</div><div class="line">## Render Functions</div><div class="line">###  Basic</div><div class="line">&gt; Vue推荐用template构建html在多数场景。当真需要JS的全编程能力时再用render函数--一个接近编译器的可选的template.</div></pre></td></tr></table></figure></p>
<p>//小示例<br>Vue.component(‘anchored-heading’, {<br>  render: function (createElement) {<br>    return createElement(<br>      ‘h’ + this.level,   // tag name<br>      this.$slots.default // array of children<br>    )<br>  },<br>  props: {<br>    level: {<br>      type: Number,<br>      required: true<br>    }<br>  }<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">*Much simpler! Sort of. The code is shorter, but also requires greater familiarity with Vue instance properties.*</div><div class="line">###  createElement Arguments</div></pre></td></tr></table></figure></p>
<p>// @returns {VNode}<br>createElement(<br>  // {String | Object | Function}<br>  // An HTML tag name, component options, or function<br>  // returning one of these. Required.<br>  ‘div’,<br>  // {Object}<br>  // A data object corresponding to the attributes<br>  // you would use in a template. Optional.<br>  {<br>    // (see details in the next section below)<br>  },<br>  // {String | Array}<br>  // Children VNodes. Optional.<br>  [<br>    createElement(‘h1’, ‘hello world’),<br>    createElement(MyComponent, {<br>      props: {<br>        someProp: ‘foo’<br>      }<br>    }),<br>    ‘bar’<br>  ]<br>)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- The Data Object In-Depth</div></pre></td></tr></table></figure></p>
<p>{<br>  // Same API as <code>v-bind:class</code><br>  ‘class’: {<br>    foo: true,<br>    bar: false<br>  },<br>  // Same API as <code>v-bind:style</code><br>  style: {<br>    color: ‘red’,<br>    fontSize: ‘14px’<br>  },<br>  // Normal HTML attributes<br>  attrs: {<br>    id: ‘foo’<br>  },<br>  // Component props<br>  props: {<br>    myProp: ‘bar’<br>  },<br>  // DOM properties<br>  domProps: {<br>    innerHTML: ‘baz’<br>  },<br>  // Event handlers are nested under “on”, though<br>  // modifiers such as in v-on:keyup.enter are not<br>  // supported. You’ll have to manually check the<br>  // keyCode in the handler instead.<br>  on: {<br>    click: this.clickHandler<br>  },<br>  // For components only. Allows you to listen to<br>  // native events, rather than events emitted from<br>  // the component using vm.$emit.<br>  nativeOn: {<br>    click: this.nativeClickHandler<br>  },<br>  // Custom directives. Note that the binding’s<br>  // oldValue cannot be set, as Vue keeps track<br>  // of it for you.<br>  directives: [<br>    {<br>      name: ‘my-custom-directive’,<br>      value: ‘2’<br>      expression: ‘1 + 1’,<br>      arg: ‘foo’,<br>      modifiers: {<br>        bar: true<br>      }<br>    }<br>  ],<br>  // Scoped slots in the form of<br>  // { name: props =&gt; VNode | Array<vnode> }<br>  scopedSlots: {<br>    default: props =&gt; createElement(‘span’, props.text)<br>  },<br>  // The name of the slot, if this component is the<br>  // child of another component<br>  slot: ‘name-of-slot’<br>  // Other special top-level properties<br>  key: ‘myKey’,<br>  ref: ‘myRef’<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- Constraints: VNodes Must Be Unique</div><div class="line">###  Replacing Template Features with Plain JavaScript</div><div class="line">- v-if and v-for</div></pre></td></tr></table></figure></vnode></p>
<p>render: function (createElement) {<br>  if (this.items.length) {<br>    return createElement(‘ul’, this.items.map(function (item) {<br>      return createElement(‘li’, item.name)<br>    }))<br>  } else {<br>    return createElement(‘p’, ‘No items found.’)<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- v-model:There is no direct v-model counterpart in render functions - you will have to implement the logic yourself:</div></pre></td></tr></table></figure></p>
<p>render: function (createElement) {<br>  var self = this<br>  return createElement(‘input’, {<br>    domProps: {<br>      value: self.value<br>    },<br>    on: {<br>      input: function (event) {<br>        self.value = event.target.value<br>      }<br>    }<br>  })<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">- Event &amp; Key Modifiers</div><div class="line">- Slots</div><div class="line">###  JSX</div></pre></td></tr></table></figure></p>
<p>import AnchoredHeading from ‘./AnchoredHeading.vue’<br>new Vue({<br>  el: ‘#demo’,<br>  render (h) {<br>    return (<br>      <anchoredheading level="{1}"><br>        <span>Hello</span> world!<br>      </anchoredheading><br>    )<br>  }<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">###  Functional Components</div><div class="line">&gt; The anchored heading component we created earlier is relatively simple. It doesn’t manage any state, watch any </div><div class="line">state passed to it, and it has no lifecycle methods. Really, it’s just a function with some props.</div><div class="line">In cases like this, we can mark components as functional, which means that they’re stateless (no data) </div><div class="line">and instanceless (no this context). A functional component looks like this:</div></pre></td></tr></table></figure></p>
<p>Vue.component(‘my-component’, {<br>  functional: true,<br>  // To compensate for the lack of an instance,<br>  // we are now provided a 2nd context argument.<br>  render: function (createElement, context) {<br>    // …<br>  },<br>  // Props are optional<br>  props: {<br>    // …<br>  }<br>})<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">- slots() vs children</div><div class="line">## Custom Directives</div><div class="line">###  Intro</div><div class="line">&gt;In addition to the default set of directives shipped in core (v-model and v-show), Vue also allows you to register </div><div class="line">your own custom directives.</div><div class="line">###  Hook Functions:A directive definition object can provide several hook functions (all optional):</div><div class="line">- bind:called only once, when the directive is first bound to the element</div><div class="line">- inserted:called when the bound element has been inserted into its parent node</div><div class="line">- update:called after the containing component has updated, but possibly before its children have updated.</div><div class="line">- componentUpdated:called after the containing component and its children have updated.</div><div class="line">- unbind:called only once, when the directive is unbound from the element.</div><div class="line">###  Directive Hook Arguments</div><div class="line">&gt;Directive hooks are passed these arguments:</div><div class="line">- el:The element the directive is bound to. This can be used to directly manipulate the DOM.</div><div class="line">- binding:An object containing the following properties.</div><div class="line">    + name:The name of the directive, without the v- prefix.</div><div class="line">    + value: The value passed to the directive(v-my-directive=&quot;1 + 1&quot;)</div><div class="line">    + oldValue:The previous value, only available in update and componentUpdated. </div><div class="line">    + expression:he expression of the binding as a string(v-my-directive=&quot;1 + 1&quot;,).</div><div class="line">    + arg:he argument passed to the directive, if any(v-my-directive:foo).</div><div class="line">    + modifiers:n object containing modifiers, if any(v-my-directive.foo.bar, the modifiers object would be &#123; foo: true, bar: true &#125;).</div><div class="line">- vnode:The virtual node produced by Vue’s compiler. </div><div class="line">- oldVnode:The previous virtual node, only available in the update and componentUpdated hooks.</div></pre></td></tr></table></figure></p>
<p>//html</p>
<p><div id="hook-arguments-example" v-demo:foo.a.b="message"></div><br>//js<br>Vue.directive(‘demo’, {<br>  bind: function (el, binding, vnode) {<br>    var s = JSON.stringify<br>    el.innerHTML =<br>      ‘name: ‘       + s(binding.name) + ‘<br>‘ +<br>      ‘value: ‘      + s(binding.value) + ‘<br>‘ +<br>      ‘expression: ‘ + s(binding.expression) + ‘<br>‘ +<br>      ‘argument: ‘   + s(binding.arg) + ‘<br>‘ +<br>      ‘modifiers: ‘  + s(binding.modifiers) + ‘<br>‘ +<br>      ‘vnode keys: ‘ + Object.keys(vnode).join(‘, ‘)<br>  }<br>})<br>new Vue({<br>  el: ‘#hook-arguments-example’,<br>  data: {<br>    message: ‘hello!’<br>  }<br>});<br>/<em><br>name:”demo”<br>value:”hello!”<br>expression:”message”<br>argument:”foo”<br>modifiers:{“a”:true,”b”:true}<br>vnode keys:tag,data,children,elem,ns,context<br>functionalContext,key,componentOptions,componentInstance,parent,<br>raw,isStatic,isRootInsert,isComent,isCloned,isOnce
</em>/<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">###  Function Shorthand</div><div class="line">###  Object Literals</div><div class="line">&gt;如果指令需要多个值，可以传入一个 JavaScript 对象字面量。记住，指令函数能够接受所有合法类型的 Javascript 表达式。</div><div class="line">## Mixins</div><div class="line">###  Basics</div><div class="line">&gt;Mixins are a flexible way to distribute reusable functionalities for Vue components.</div><div class="line"> A mixin object can contain any component options. When a component uses a mixin, all options in the mixin will be </div><div class="line"> “mixed” into the component’s own options.</div></pre></td></tr></table></figure></p>
<p>// define a mixin object<br>var myMixin = {<br>  created: function () {<br>    this.hello()<br>  },<br>  methods: {<br>    hello: function () {<br>      console.log(‘hello from mixin!’)<br>    }<br>  }<br>}<br>// define a component that uses this mixin<br>var Component = Vue.extend({<br>  mixins: [myMixin]<br>})<br>var component = new Component() // -&gt; “hello from mixin!”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">###  Option Merging</div><div class="line">###  Global Mixin</div><div class="line">&gt;Use global mixins sparsely and carefully, </div><div class="line">because it affects every single Vue instance created, including third party components.</div><div class="line">###  Custom Option Merge Strategies</div><div class="line">## Plugins</div><div class="line">## Single File Components</div><div class="line">&gt; 在JS只用于增强相应view的中小型项目中传统写法凑效，在更复杂的项目或者前端完全由JS驱动，如下特色将会彰显</div><div class="line">- Global definitions force unique names for every component</div><div class="line">- String templates lack syntax highlighting and require ugly slashes for multiline HTML</div><div class="line">- No CSS support means that while HTML and JavaScript are modularized into components, CSS is conspicuously left out</div><div class="line">- No build step restricts us to HTML and ES5 JavaScript, rather than preprocessors like Pug (formerly Jade) and Babel</div><div class="line">All of these are solved by single-file components with a .vue extension, made possible with build tools such as Webpack or Browserify.</div><div class="line">## Production Deployment Tips：生产环境部署</div><div class="line">###  Turn on Production Mode</div><div class="line">- Without Build Tools ```vue.min.js</div></pre></td></tr></table></figure></p>
<ul>
<li>With Build Tools<blockquote>
<p>When using a build tool like Webpack or Browserify, the production mode will be determined by process.env.NODE_ENV<br>inside Vue’s source code, and it will be in development mode by default.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">var webpack = require(&apos;webpack&apos;)</div><div class="line">module.exports = &#123;</div><div class="line">  // ...</div><div class="line">  plugins: [</div><div class="line">    // ...</div><div class="line">    new webpack.DefinePlugin(&#123;</div><div class="line">      &apos;process.env&apos;: &#123;</div><div class="line">        NODE_ENV: &apos;&quot;production&quot;&apos;</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<h3 id="Pre-Compiling-Templates"><a href="#Pre-Compiling-Templates" class="headerlink" title="Pre-Compiling Templates"></a>Pre-Compiling Templates</h3><h2 id="Routing"><a href="#Routing" class="headerlink" title="Routing"></a>Routing</h2><h2 id="State-Management"><a href="#State-Management" class="headerlink" title="State Management"></a>State Management</h2><blockquote>
<p>Large applications can often grow in complexity, due to multiple pieces of state scattered across many<br>components and the interactions between them. To solve this problem, Vue offers vuex:<br>![<a href="http://vuejs.org/images/state.png][http://vuejs.org/images/state.png" target="_blank" rel="external">http://vuejs.org/images/state.png][http://vuejs.org/images/state.png</a>]</p>
<h2 id="Unit-Testing"><a href="#Unit-Testing" class="headerlink" title="Unit Testing"></a>Unit Testing</h2><h2 id="Server-Side-Rendering"><a href="#Server-Side-Rendering" class="headerlink" title="Server-Side Rendering"></a>Server-Side Rendering</h2><h2 id="TypeScript-Surport"><a href="#TypeScript-Surport" class="headerlink" title="TypeScript Surport"></a>TypeScript Surport</h2></blockquote>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/yanlee26" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2017 Yan Li<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>